---
specversion: 0.0.2

id: guestbookgo-app
metadata:
  name: "Guestbook-Go App"
  appversion: 0.0.1
  description: "Atomic app for deploying the kubernetes guestbook-go app"

graph:
  - name: guestbook
    params:
      - name: image
        description: The frontend part
        default: kubernetes/guestbook:v2
    artifacts:
      kubernetes:
        - file://artifacts/kubernetes/guestbook-controller.json
        - file://artifacts/kubernetes/guestbook-service.json
  - name: redis-master
    artifacts:
      kubernetes:
        - file://artifacts/kubernetes/redis-master-controller.json
        - file://artifacts/kubernetes/redis-master-service.json
  - name: redis-slave
    artifacts:
      kubernetes:
        - file://artifacts/kubernetes/redis-slave-controller.json
        - file://artifacts/kubernetes/redis-slave-service.json

#  composite app below replaces the redis-master and -slave
#  pieces above, but commented out due to #TK
#  - name: redis-centos7-atomicapp
#    source: docker://projectatomic/redis-centos7-atomicapp
